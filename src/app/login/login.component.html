<div class="registerNow" style="text-align: right">
  <button type="submit" pButton class="ui-button-info" (click)="goToRegistration()" label="Registrati Ora!"></button>
</div>

<div class="ui-grid-col-12" style="padding-bottom: 2em;" align="center">
  <p-listbox [options]="customersItems" [(ngModel)]="selectedCustomer" (onDblClick)="showLoginDilog(selectedCustomer)"
    [style]="{'width':'25%'}" [listStyle]="{'min-height':'25%'}">
    <p-header style="padding-top: 2em">
      Esegui Accesso Come: {{selectedCustomer||''}}
    </p-header>
    <ng-template let-customer pTemplate="item">
      <div class="ui-helper-clearfix">
        <img *ngIf="customer.avatar" [src]="customer.avatarBase64" style="display:inline-block;margin:5px 0 0 5px"
          width="200">
        <img *ngIf="!customer.avatar" src="assets/showcase/images/customer/user-image.png" style="display:inline-block;margin:5px 0 0 5px"
          width="200">
        <span style="float:right;margin:20px 10px 0 0">{{customer.value}}</span>
      </div>
    </ng-template>
  </p-listbox>
</div>

<p-dialog [(visible)]="showDialog" [closable]="true" [responsive]="true" [modal]="true">
  <p-header>
    Login Utente: {{selectedCustomer}}
  </p-header>
  <p-toast [style]="{marginTop: '80px'}" styleClass="error-toast" key="KO"></p-toast>
  <form name="form" #flogin="ngForm">
    <div class="ui-g ui-fluid" *ngIf="selectedCustomer" style="padding-bottom: 5em; padding-top: 3em">
      <div class="ui-g-12">
        <div class="ui-g-4">
          <label for="vin">Password</label>
        </div>
        <div class="ui-g-8">
          <input pInputText id="loginPassword" name="psw" [(ngModel)]="psw" style="width: 100%" type="password">
        </div>
      </div>
    </div>
    <p-footer>
      <div class="ui-dialog-buttonpane ui-helper-clearfix">
        <div class="ui-g-6">
          <button type="button" pButton (click)="close()" label="Annulla"></button>
        </div>
        <div class="ui-g-6" style="text-align: right">
          <button type="submit" pButton class="ui-button-success" (click)="loginCustomer(psw)" label="Login"></button>
        </div>
      </div>
    </p-footer>
  </form>
</p-dialog>
